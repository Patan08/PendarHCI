<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendar</title>
    <link rel="stylesheet" href="/CSS/buy.css">
    <link rel="stylesheet" href="/CSS/navbar.css">
</head>

<body>
    <header>

        <nav>

            <a href="/HTML/home.html" style="font-weight: 800; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif ; font-size: 28px;">PENDAR</a>

           
                <div class="midMenu">
                    <a href="/HTML/buy-painting.html">Painting</a>
                    <a href="/HTML/buy-photo.html">Photography</a>
                    <a href="/HTML/buy-sculpture.html">Sculpture</a>
                </div>
                <div class="user-icon">
                    <a href="/HTML/upload.html">Upload</a>
                    <a href="/HTML/account.html">account</a>
                </div>
            
        </nav>

    </header>

    <main>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/2873683/pexels-photo-2873683.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Efen Silalahi">
            <div class="art-details">
                <h3>Efen Silalahi</h3>
                <p class="estimate">Estimate: 120,000 - 220,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/2994411/pexels-photo-2994411.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Louis Akbar</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/2996072/pexels-photo-2996072.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Efen Silalahi">
            <div class="art-details">
                <h3>I Ardi</h3>
                <p class="estimate">Estimate: 120,000 - 220,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/2793087/pexels-photo-2793087.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load  "
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Joni santai</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/775190/pexels-photo-775190.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Silitonga</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/931007/pexels-photo-931007.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Tukul Arapaima</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/1301865/pexels-photo-1301865.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Ardhito asholand</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/3250073/pexels-photo-3250073.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Komputer Si Unyil</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/1632793/pexels-photo-1632793.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Aristo Gumara</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/1172064/pexels-photo-1172064.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Komputer Si Unyil</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/1271620/pexels-photo-1271620.jpeg?cs=srgb&dl=pexels-andreimike-1271620.jpg&fm=jpg"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Komputer Si Unyil</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
        <div class="art-item">
            <img src="https://images.pexels.com/photos/1995730/pexels-photo-1995730.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                alt="Louis Akbar">
            <div class="art-details">
                <h3>Komputer Si Unyil</h3>
                <p class="estimate">Estimate: 1,200,000 - 2,500,000 HKD</p>
                <input type="number" class="bid-input" placeholder="Enter your bid">
                <button class="bid-button">BID</button>
                <div class="bid-history"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-logo">Pendar</div>
        <div class="social-media">
            <a href="#"><img src="youtube-icon.png" alt="YouTube"></a>
            <a href="#"><img src="facebook-icon.png" alt="Facebook"></a>
            <a href="#"><img src="instagram-icon.png" alt="Instagram"></a>
            <a href="#"><img src="tiktok-icon.png" alt="TikTok"></a>
        </div>
        <div class="top-lists">
            <div class="top-film">
                <h4>Top Film</h4>
                <p>Film 1</p>
                <p>Film 2</p>
                <p>Film 3</p>
            </div>
            <div class="top-music">
                <h4>Top Music</h4>
                <p>Music 1</p>
                <p>Music 2</p>
                <p>Music 3</p>
            </div>
            <div class="top-painting">
                <h4>Top Painting</h4>
                <p>Painting 1</p>
                <p>Painting 2</p>
                <p>Painting 3</p>
            </div>
            <div class="top-dance">
                <h4>Top Dance</h4>
                <p>Dance 1</p>
                <p>Dance 2</p>
                <p>Dance 3</p>
            </div>
        </div>
        <div class="about-us">
            <h4>About Us</h4>
            <p>Lorem ipsum dolor sit amet consectetur. Erat in vulputate bibendum feugiat pharetra ut pellentesque
                gravida pharetra. Velit feugiat vitae et erat sed sed nibh magna vulputate.</p>
        </div>
        <p>&copy; 2024 - 2024 Pendar - All Rights Reserved.</p>
    </footer>

    <script src="/JS/buy.js"></script>
    <script>
        const formatCurrency = (number) => {
  return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'HKD' }).format(number);
};

document.querySelectorAll(".bid-button").forEach((button, index) => {
  button.addEventListener("click", () => {
      const bidInput = document.querySelectorAll(".bid-input")[index];
      const bidValue = bidInput.value.trim();
      const artDetails = button.parentNode;
      const estimateText = artDetails.querySelector(".estimate").textContent;
      const currentBid = parseInt(estimateText.split(" - ")[1].split(" HKD")[0].replace(/[^0-9.-]/g, ""));

      if (bidValue === "") {
          alert("Please enter your bid amount.");
          return;
      }

      const newBid = parseInt(bidValue.replace(/,/g, ""));
      if (newBid <= currentBid) {
          alert(`Your bid (${formatCurrency(newBid)}) must be higher than the current bid (${formatCurrency(currentBid)}).`);
          return;
      }

      // Get or initialize bids from localStorage
      let storedBids = localStorage.getItem(`bid_${index}`);
      storedBids = storedBids ? JSON.parse(storedBids) : [];

      // Check if new bid is higher than previous bids
      const isHigherBid = storedBids.every(bid => newBid > bid);

      if (isHigherBid) {
          storedBids.push(newBid);
          localStorage.setItem(`bid_${index}`, JSON.stringify(storedBids));

          // Clear previous bid history and show all bids
          const bidHistoryElement = artDetails.querySelector(".bid-history");
          bidHistoryElement.innerHTML = ""; // Clear previous history

          storedBids.forEach(bid => {
              const bidElement = document.createElement("p");
              bidElement.textContent = `Bid: ${formatCurrency(bid)}`;
              bidHistoryElement.appendChild(bidElement);
          });

          bidInput.value = "";
      } else {
          alert(`Your bid (${formatCurrency(newBid)}) must be higher than all previous bids.`);
      }
  });
});
    </script>
</body>

</html>